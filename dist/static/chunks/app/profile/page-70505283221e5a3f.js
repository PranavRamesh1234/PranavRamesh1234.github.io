(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{283:(e,s,t)=>{"use strict";t.d(s,{A:()=>d,AuthProvider:()=>n});var r=t(5155),i=t(2115),a=t(2099);let l=(0,i.createContext)(void 0);function n(e){let{children:s}=e,[t,n]=(0,i.useState)(null),[d,m]=(0,i.useState)(!0);(0,i.useEffect)(()=>{a.N.auth.getSession().then(e=>{let{data:{session:s}}=e;(null==s?void 0:s.user)?o(s.user.id):(n(null),m(!1))});let{data:{subscription:e}}=a.N.auth.onAuthStateChange((e,s)=>{(null==s?void 0:s.user)?o(s.user.id):(n(null),m(!1))});return()=>{e.unsubscribe()}},[]);let o=async e=>{try{let{data:s,error:t}=await a.N.from("profiles").select("*").eq("id",e).single();if(t)throw t;n(s)}catch(e){console.error("Error fetching user profile:",e),n(null)}finally{m(!1)}},c=async(e,s)=>{let{error:t}=await a.N.auth.signInWithPassword({email:e,password:s});if(t)throw t},u=async(e,s)=>{let{data:t,error:r}=await a.N.auth.signUp({email:e,password:s,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(r)throw r;if(t.user){let{error:e}=await a.N.from("profiles").insert([{id:t.user.id,email:t.user.email,full_name:"",phone_number:"",location:""}]);if(e)throw e}},h=async()=>{let{error:e}=await a.N.auth.signOut();if(e)throw e},x=async e=>{if(!t)throw Error("No user logged in");let{error:s}=await a.N.from("profiles").update(e).eq("id",t.id);if(s)throw s;n(s=>s?{...s,...e}:null)};return(0,r.jsx)(l.Provider,{value:{user:t,loading:d,signIn:c,signUp:u,signOut:h,updateProfile:x},children:s})}function d(){let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1986:(e,s,t)=>{Promise.resolve().then(t.bind(t,3246))},2099:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(851).UU)("https://apbgdwgiqrzarwnicguu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFwYmdkd2dpcXJ6YXJ3bmljZ3V1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczOTYzMDgsImV4cCI6MjA2Mjk3MjMwOH0.jrWCdt10IvmdK5FJolNYUFAMBZAttwTqycgGXRj6Isw")},3246:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(5155),i=t(2115),a=t(5695),l=t(283),n=t(6874),d=t.n(n);function m(){let{user:e}=(0,l.A)(),s=(0,a.useRouter)();return((0,i.useEffect)(()=>{e||s.push("/auth")},[e,s]),e)?(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,r.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Profile Information"}),(0,r.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Personal details and contact information."})]}),(0,r.jsx)("div",{className:"border-t border-gray-200",children:(0,r.jsxs)("dl",{children:[(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.full_name||"Not set"})]}),(0,r.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.email})]}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Phone number"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.phone_number||"Not set"})]}),(0,r.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),(0,r.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.location||"Not set"})]})]})}),(0,r.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,r.jsx)(d(),{href:"/profile/edit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Edit Profile"})})]})})}):null}},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[851,874,441,684,358],()=>s(1986)),_N_E=e.O()}]);